<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../images/favicon.png type=image/png><title>Blog 3 - Node.js 22 runtime in AWS Lambda :: Internship Report</title>
<link href=../../css/nucleus.css?1765182050 rel=stylesheet><link href=../../css/fontawesome-all.min.css?1765182050 rel=stylesheet><link href=../../css/hybrid.css?1765182050 rel=stylesheet><link href=../../css/featherlight.min.css?1765182050 rel=stylesheet><link href=../../css/perfect-scrollbar.min.css?1765182050 rel=stylesheet><link href=../../css/auto-complete.css?1765182050 rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css?1765182050 rel=stylesheet><link href=../../css/theme.css?1765182050 rel=stylesheet><link href=../../css/hugo-theme.css?1765182050 rel=stylesheet><link href=../../css/theme-workshop.css?1765182050 rel=stylesheet><script src=../../js/jquery-3.3.1.min.js?1765182050></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../3-blogstranslated/3.3-blog3/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js?1765182050></script><script type=text/javascript src=../../js/auto-complete.js?1765182050></script><script type=text/javascript>var baseurl="https://AnhKhoaa157.github.io/AnhKhoa-Learning-AWS/"</script><script type=text/javascript src=../../js/search.js?1765182050></script></div><div class=highlightable><ul class=topics><li data-nav-id=/1-worklog/ title=Worklog class=dd-item><a href=../../1-worklog/><b>1. </b>Worklog
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/1-worklog/1.1-week1/ title="Week 1 Worklog" class=dd-item><a href=../../1-worklog/1.1-week1/><b>1.1. </b>Week 1 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.2-week2/ title="Week 2 Worklog" class=dd-item><a href=../../1-worklog/1.2-week2/><b>1.2. </b>Week 2 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.3-week3/ title="Week 3 Worklog" class=dd-item><a href=../../1-worklog/1.3-week3/><b>1.3. </b>Week 3 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.4-week4/ title="Week 4 Worklog" class=dd-item><a href=../../1-worklog/1.4-week4/><b>1.4. </b>Week 4 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.5-week5/ title="Week 5 Worklog" class=dd-item><a href=../../1-worklog/1.5-week5/><b>1.5. </b>Week 5 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.6-week6/ title="Week 6 Worklog" class=dd-item><a href=../../1-worklog/1.6-week6/><b>1.6. </b>Week 6 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.7-week7/ title="Week 7 Worklog" class=dd-item><a href=../../1-worklog/1.7-week7/><b>1.7. </b>Week 7 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.8-week8/ title="Week 8 Worklog" class=dd-item><a href=../../1-worklog/1.8-week8/><b>1.8. </b>Week 8 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.9-week9/ title="Week 9 Worklog" class=dd-item><a href=../../1-worklog/1.9-week9/><b>1.9. </b>Week 9 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.10-week10/ title="Week 10 Worklog" class=dd-item><a href=../../1-worklog/1.10-week10/><b>1.10. </b>Week 10 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.11-week11/ title="Week 11 Worklog" class=dd-item><a href=../../1-worklog/1.11-week11/><b>1.11. </b>Week 11 Worklog
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/1-worklog/1.12-week12/ title="Week 12 Worklog" class=dd-item><a href=../../1-worklog/1.12-week12/><b>1.12 </b>Week 12 Worklog
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/2-proposal/ title=Proposal class=dd-item><a href=../../2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/ title="Translated Blogs" class="dd-item
parent"><a href=../../3-blogstranslated/><b>3. </b>Translated Blogs
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/3-blogstranslated/3.1-blog1/ title="Blog 1 - Riskthinking.AI Climate Earth Digital Twin on AWS" class=dd-item><a href=../../3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1 - Riskthinking.AI Climate Earth Digital Twin on AWS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.2-blog2/ title="Blog 2 - ALB for SAP workloads on AWS" class=dd-item><a href=../../3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2 - ALB for SAP workloads on AWS
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/3-blogstranslated/3.3-blog3/ title="Blog 3 - Node.js 22 runtime in AWS Lambda" class="dd-item
active"><a href=../../3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3 - Node.js 22 runtime in AWS Lambda
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/4-eventparticipated/ title="Events Participated" class=dd-item><a href=../../4-eventparticipated/><b>4. </b>Events Participated
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/4-eventparticipated/4.1-event1/ title="Event 1 - AI/ML/GenAI on AWS Workshop" class=dd-item><a href=../../4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1 - AI/ML/GenAI on AWS Workshop
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.2-event2/ title="Event 2 - DevOps on AWS Workshop" class=dd-item><a href=../../4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2 - DevOps on AWS Workshop
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/4-eventparticipated/4.3-event3/ title="Event 3 - AWS Well-Architected Security Pillar Workshop" class=dd-item><a href=../../4-eventparticipated/4.3-event3/><b>4.3. </b>Event 3 - AWS Well-Architected Security Pillar Workshop
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/ title=Workshop class=dd-item><a href=../../5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.1-workshop-overview/ title="Workshop Overview" class=dd-item><a href=../../5-workshop/5.1-workshop-overview/><b>5.1. </b>Workshop Overview
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.2-prerequiste/ title=Prerequisites class=dd-item><a href=../../5-workshop/5.2-prerequiste/><b>5.2. </b>Prerequisites
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-s3-vpc/ title="Access S3 from VPC" class=dd-item><a href=../../5-workshop/5.3-s3-vpc/><b>5.3. </b>Access S3 from VPC
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.3-s3-vpc/5.3.1-create-gwe/ title="Creating Gateway Endpoint for S3" class=dd-item><a href=../../5-workshop/5.3-s3-vpc/5.3.1-create-gwe/><b>5.3.1 </b>Creating Gateway Endpoint for S3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.3-s3-vpc/5.3.2-test-gwe/ title="Testing Gateway Endpoint Connectivity" class=dd-item><a href=../../5-workshop/5.3-s3-vpc/5.3.2-test-gwe/><b>5.3.2 </b>Testing Gateway Endpoint Connectivity
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.4-s3-onprem/ title="Access S3 from on-premises" class=dd-item><a href=../../5-workshop/5.4-s3-onprem/><b>5.4. </b>Access S3 from on-premises
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/5-workshop/5.4-s3-onprem/5.4.1-prepare/ title="Environment Preparation for Hybrid Connectivity" class=dd-item><a href=../../5-workshop/5.4-s3-onprem/5.4.1-prepare/><b>5.4.1 </b>Environment Preparation for Hybrid Connectivity
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-s3-onprem/5.4.2-create-interface-enpoint/ title="Creating Interface VPC Endpoint for S3 Access" class=dd-item><a href=../../5-workshop/5.4-s3-onprem/5.4.2-create-interface-enpoint/><b>5.4.2 </b>Creating Interface VPC Endpoint for S3 Access
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-s3-onprem/5.4.3-test-endpoint/ title="Testing Interface Endpoint Connectivity from On-Premises" class=dd-item><a href=../../5-workshop/5.4-s3-onprem/5.4.3-test-endpoint/><b>5.4.3 </b>Testing Interface Endpoint Connectivity from On-Premises
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.4-s3-onprem/5.4.4-dns-simulation/ title="Configuring Hybrid DNS for Private Endpoint Resolution" class=dd-item><a href=../../5-workshop/5.4-s3-onprem/5.4.4-dns-simulation/><b>5.4.4 </b>Configuring Hybrid DNS for Private Endpoint Resolution
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/5-workshop/5.5-policy/ title="Implementing Fine-Grained Access Control with VPC Endpoint Policies" class=dd-item><a href=../../5-workshop/5.5-policy/><b>5.5. </b>Implementing Fine-Grained Access Control with VPC Endpoint Policies
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/5-workshop/5.6-cleanup/ title="Resource Cleanup and Workshop Completion" class=dd-item><a href=../../5-workshop/5.6-cleanup/><b>5.6. </b>Resource Cleanup and Workshop Completion
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/6-self-evaluation/ title=Self-Assessment class=dd-item><a href=../../6-self-evaluation/><b>6. </b>Self-Assessment
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/7-feedback/ title="Sharing and Feedback" class=dd-item><a href=../../7-feedback/><b>7. </b>Sharing and Feedback
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://AnhKhoaa157.github.io/AnhKhoa-Learning-AWS/3-blogstranslated/3.3-blog3/ selected>English</option><option id=vi value=https://AnhKhoaa157.github.io/AnhKhoa-Learning-AWS/vi/3-blogstranslated/3.3-blog3/>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../>Internship Report</a> > <a href=../../3-blogstranslated/>Translated Blogs</a> > Blog 3 - Node.js 22 runtime in AWS Lambda</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#nodejs-22-language-updates>Node.js 22 Language Updates</a><ul><li><a href=#require-for-ecmascript-modules>require() for ECMAScript Modules</a></li><li><a href=#websocket-support>WebSocket Support</a></li><li><a href=#performance-improvements>Performance Improvements</a></li><li><a href=#typescript-support>TypeScript Support</a></li></ul></li><li><a href=#experimental-features-not-available>Experimental Features Not Available</a></li><li><a href=#performance-considerations>Performance Considerations</a></li><li><a href=#migration-from-previous-nodejs-runtimes>Migration from Previous Node.js Runtimes</a><ul><li><a href=#aws-sdk-for-javascript>AWS SDK for JavaScript</a></li><li><a href=#amazon-linux-2023>Amazon Linux 2023</a></li></ul></li><li><a href=#using-nodejs-22-runtime-in-aws-lambda>Using Node.js 22 Runtime in AWS Lambda</a><ul><li><a href=#aws-management-console>AWS Management Console</a></li><li><a href=#aws-lambda-container-image>AWS Lambda Container Image</a></li><li><a href=#aws-serverless-application-model-aws-sam>AWS Serverless Application Model (AWS SAM)</a></li><li><a href=#aws-cloud-development-kit-aws-cdk>AWS Cloud Development Kit (AWS CDK)</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li><li><a href=#about-the-authors>About the Authors</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 3 - Node.js 22 runtime in AWS Lambda</h1><h1 id=nodejs-22-runtime-now-available-in-aws-lambda>Node.js 22 runtime now available in AWS Lambda</h1><p><strong>Authors</strong>: Julian Wood and Andrea Amorosi<br><strong>Published</strong>: November 21, 2024<br><strong>Categories</strong>: Amazon CloudFront, Announcements, AWS Cloud Development Kit, AWS Lambda, AWS SDK for JavaScript in Node.js, AWS Serverless Application Model, AWS Systems Manager, Lambda@Edge, Serverless</p><hr><h2 id=introduction>Introduction</h2><p>You can now develop AWS Lambda functions using the Node.js 22 runtime, a version in active LTS status ready for production use. Node.js 22 includes several language additions, including require() for ES modules, as well as changes to runtime implementation and standard library. With this release, Node.js developers can leverage these new features and improvements when building serverless applications on Lambda.</p><p>You can develop Lambda functions with Node.js 22 using AWS Management Console, AWS Command Line Interface (AWS CLI), AWS SDK for JavaScript, AWS Serverless Application Model (AWS SAM), AWS Cloud Development Kit (AWS CDK), and other infrastructure as code tools.</p><p>To use this new version, specify the runtime parameter value as <code>nodejs22.x</code> when creating or updating functions, or by using the appropriate container base image.</p><p>You can use Node.js 22 with Powertools for AWS Lambda (TypeScript), a developer toolkit for implementing serverless best practices and accelerating development. Powertools for AWS Lambda includes libraries to support common tasks like observability, AWS Systems Manager Parameter Store integration, idempotency, batch processing, and more. You can also use Node.js 22 with Lambda@Edge to customize low-latency content delivered through Amazon CloudFront.</p><p>This blog post highlights important changes to the Node.js runtime, notable Node.js 22 language updates, and how you can use the new Node.js 22 runtime in your serverless applications.</p><hr><h2 id=nodejs-22-language-updates>Node.js 22 Language Updates</h2><p>Node.js 22 introduces several language updates and features aimed at enhancing developer productivity and improving application performance.</p><h3 id=require-for-ecmascript-modules>require() for ECMAScript Modules</h3><p>This release adds support for loading ECMAScript modules (ESM) using <code>require()</code>. You can enable this feature using the <code>--experimental-require-module</code> flag through the NODE_OPTIONS environment variable configuration. Support for <code>require()</code> for synchronous ESM graphs creates a bridge between CommonJS and ESM, providing more flexibility in module loading. Its important to note this feature is currently experimental and may change in future releases.</p><h3 id=websocket-support>WebSocket Support</h3><p>WebSocket support, previously available behind the <code>--experimental-websocket</code> flag, is now enabled by default in Node.js 22. This brings browser-compatible WebSocket client implementation to Node.js without external dependencies. Native support simplifies building real-time applications and enhances the overall WebSocket experience in Node.js environments.</p><h3 id=performance-improvements>Performance Improvements</h3><p>The new runtime also includes performance improvements for AbortSignal creation. This makes network operations faster and more efficient for the Fetch API and test runner. The Fetch API is also now considered stable in Node.js 22.</p><h3 id=typescript-support>TypeScript Support</h3><p>For TypeScript users, Node.js 22 introduces experimental support for transforming TypeScript-only syntax into JavaScript code. Using the <code>--experimental-transform-types</code> flag, you can enable this feature to support TypeScript syntax like Enum and namespace directly. While you can enable this feature in Lambda, your function entrypoint (i.e., index.mjs or app.cjs) currently cannot be written in TypeScript as the runtime expects a file with JavaScript extension. You can use TypeScript for any other modules imported in your codebase.</p><p>For a detailed overview of Node.js 22 language features, see the Node.js 22 release blog post and Node.js 22 changelog.</p><hr><h2 id=experimental-features-not-available>Experimental Features Not Available</h2><p>Node.js 22 includes an experimental feature to automatically detect module syntax (CommonJS or ES Modules). This feature must be enabled when the Node.js runtime is compiled. Since the Node.js 22 runtime provided by Lambda is intended for production workloads, this experimental feature is not enabled in the Lambda build and cannot be enabled through execution-time flags. To use this feature in Lambda, you need to deploy your own Node.js runtime using custom runtime or container image with the experimental module syntax detection feature enabled.</p><hr><h2 id=performance-considerations>Performance Considerations</h2><p>At launch, new Lambda runtimes receive less usage compared to existing established runtimes. This can lead to longer cold start times due to reduced cache residency in internal Lambda subsystems. Cold start times typically improve in the weeks following launch as usage increases. Therefore, AWS recommends not drawing conclusions from side-by-side performance comparisons with other Lambda runtimes until performance has stabilized. Since performance depends heavily on workload, customers with performance-sensitive workloads should conduct their own testing rather than relying on general test benchmarks.</p><p>Builders should continue to measure and test function performance and optimize function code and configuration for any impacts. To learn more about optimizing Node.js performance in Lambda, see Performance optimization in the Lambda Operator Guide, and the Optimizing Node.js dependencies in AWS Lambda blog post.</p><hr><h2 id=migration-from-previous-nodejs-runtimes>Migration from Previous Node.js Runtimes</h2><h3 id=aws-sdk-for-javascript>AWS SDK for JavaScript</h3><p>Until Node.js 16, Lambda Node.js runtimes included AWS SDK for JavaScript version 2. This was replaced by AWS SDK for JavaScript version 3, released in December 2022. Starting with Node.js 18, and continuing with Node.js 22, Lambda Node.js runtimes include version 3. When upgrading from Node.js 16 or earlier runtimes and using the included version 2, you must upgrade your code to use v3 SDK.</p><p>For optimal performance, and to have full control over your code dependencies, we recommend bundling and minifying the AWS SDK in your deployment package rather than using the SDK included in the runtime. For more information, see Optimizing Node.js dependencies in AWS Lambda.</p><h3 id=amazon-linux-2023>Amazon Linux 2023</h3><p>The Node.js 22 runtime is based on the <code>provided.al2023</code> runtime, built on the Amazon Linux 2023 minimal container image. Amazon Linux 2023 minimal image uses microdnf as package manager, symlinked as dnf. This replaces the yum package manager used in Node.js 18 and earlier AL2-based images. If you deploy your Lambda function as a container image, you must update your Dockerfile to use dnf instead of yum when upgrading to Node.js 22 base image from Node.js 18 or earlier.</p><p>Additionally, AL2 includes curl and gnupg2 as minimal versions curl-minimal and gnupg2-minimal.</p><p>Learn more about the provided.al2023 runtime in the Introducing the Amazon Linux 2023 runtime for AWS Lambda blog post and Amazon Linux 2023 launch blog post.</p><hr><h2 id=using-nodejs-22-runtime-in-aws-lambda>Using Node.js 22 Runtime in AWS Lambda</h2><h3 id=aws-management-console>AWS Management Console</h3><p>To use the Node.js 22 runtime to develop your Lambda functions, specify the Node.js 22.x runtime parameter value when creating or updating a function. The Node.js 22 runtime version is now available in the Runtime dropdown on the Create function page in the AWS Lambda console.</p><p><img alt="Creating Node.js function in AWS Management Console" src=../../images/3.3-Blog3/image1.png>
<em>Creating Node.js function in AWS Management Console</em></p><p>To update an existing Lambda function to Node.js 22, navigate to the function in the Lambda console, then select Node.js 22.x in the Runtime settings panel. The new version of Node.js is available in the Runtime dropdown:</p><p><img alt="Changing a function to Node.js 22" src=../../images/3.3-Blog3/image2.png>
<em>Changing a function to Node.js 22</em></p><h3 id=aws-lambda-container-image>AWS Lambda Container Image</h3><p>Change the Node.js base image version by modifying the FROM statement in your Dockerfile.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> public.ecr.aws/lambda/nodejs:22</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h3 id=aws-serverless-application-model-aws-sam>AWS Serverless Application Model (AWS SAM)</h3><p>In AWS SAM, set the Runtime property to <code>nodejs22.x</code> to use this version.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>Resources</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>MyFunction</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>Type</span>: <span style=color:#ae81ff>AWS::Serverless::Function</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>Properties</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>Runtime</span>: <span style=color:#ae81ff>nodejs22.x</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>Handler</span>: <span style=color:#ae81ff>index.handler</span>
</span></span></code></pre></div><p>When you add function code directly in the AWS SAM or AWS CloudFormation template as an inline function, it is treated as CommonJS.</p><p>AWS SAM supports creating this template with Node.js 22 for new serverless applications using the <code>sam init</code> command. See AWS SAM documentation.</p><h3 id=aws-cloud-development-kit-aws-cdk>AWS Cloud Development Kit (AWS CDK)</h3><p>In AWS CDK, set the runtime property to <code>Runtime.NODEJS_22_X</code> to use this version.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>lambda</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;aws-cdk-lib/aws-lambda&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>new</span> <span style=color:#a6e22e>lambda</span>.Function(<span style=color:#66d9ef>this</span>, <span style=color:#e6db74>&#39;MyFunction&#39;</span>, {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>runtime</span>: <span style=color:#66d9ef>lambda.Runtime.NODEJS_22_X</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>handler</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;index.handler&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>code</span>: <span style=color:#66d9ef>lambda.Code.fromAsset</span>(<span style=color:#e6db74>&#39;lambda&#39;</span>)
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><hr><h2 id=conclusion>Conclusion</h2><p>Lambda now supports Node.js 22 as a managed language runtime. This release uses Amazon Linux 2023 OS as well as other improvements detailed in this blog post.</p><p>You can build and deploy functions using Node.js 22 using AWS Management Console, AWS CLI, AWS SDK, AWS SAM, AWS CDK, or your infrastructure as code tool of choice. You can also use the Node.js 22 container base image if you prefer to build and deploy your functions using container images.</p><p>The Node.js 22 runtime helps developers build more efficient, robust, and scalable serverless applications. Read about the Node.js programming model in Lambda documentation to learn more about writing functions in Node.js 22. Try the Node.js runtime in Lambda today.</p><p>For more serverless learning resources, visit Serverless Land.</p><hr><h2 id=about-the-authors>About the Authors</h2><p><strong>Julian Wood</strong> - Principal Developer Advocate for Serverless at AWS, helping developers build and optimize serverless applications. He is passionate about serverless technologies and shares best practices through blogs, workshops, and community engagement.</p><p><strong>Andrea Amorosi</strong> - Senior Solutions Architect at AWS, specializing in serverless architectures and developer tools. He helps customers design and build scalable, event-driven applications using AWS Lambda and other serverless technologies.</p><hr><p><strong>Tags</strong>: serverless, Node.js, AWS Lambda, runtime, Amazon Linux 2023</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../3-blogstranslated/3.2-blog2/ title="Blog 2 - ALB for SAP workloads on AWS"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../4-eventparticipated/ title="Events Participated" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js?1765182050></script><script src=../../js/perfect-scrollbar.min.js?1765182050></script><script src=../../js/perfect-scrollbar.jquery.min.js?1765182050></script><script src=../../js/jquery.sticky.js?1765182050></script><script src=../../js/featherlight.min.js?1765182050></script><script src=../../js/highlight.pack.js?1765182050></script><script>hljs.initHighlightingOnLoad()</script><script src=../../js/modernizr.custom-3.6.0.js?1765182050></script><script src=../../js/learn.js?1765182050></script><script src=../../js/hugo-learn.js?1765182050></script><link href=../../mermaid/mermaid.css?1765182050 rel=stylesheet><script src=../../mermaid/mermaid.js?1765182050></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>